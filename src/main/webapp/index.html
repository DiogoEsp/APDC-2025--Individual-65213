<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

  <head>


    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <title>ADC: My First Web App</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        text-align: center;
        margin-top: 100px;
      }
      h1 {
        font-size: 2em;
        margin-bottom: 30px;
      }
      .btn {
        padding: 12px 24px;
        margin: 10px;
        font-size: 1em;
        cursor: pointer;
        border: none;
        border-radius: 8px;
        background-color: #007bff;
        color: white;
        transition: background-color 0.3s ease;
      }
      .btn:hover {
        background-color: #0056b3;
      }
    </style>
  </head>

  <body>
      <h1>Welcome to this demo</h1>
      <button class="btn" onclick="window.location.href='login.html'">Login</button>
      <button class="btn" onclick="window.location.href='register.html'">Register</button>
      <button class="btn" onclick="logOut()"> Log Out</button>

  <script>
      function logOut() {
          // Step 1: Clear the session storage
          sessionStorage.clear();

          // Step 2: Optional - Call the backend to invalidate the token (optional, if you have a logout endpoint)
          fetch('/rest/changes/logOut', {
              method: 'POST',
              headers: { "Content-Type": "application/json" }
          })
              .then(response => {
                  if (response.ok) {
                      console.log("Logged out successfully.");
                  } else {
                      console.log("Error logging out.");
                  }
              })
              .catch(error => console.error('Logout error:', error));

          // Step 3: Redirect to the login page
          window.location.href = "index.html";
      }
  </script>
  </body>
</html>
